1) Create the table Member, Books and Issue without any constraints as 
mentioned in the schema description above. ?
----

mysql> create table member(
    -> Member_Id int primary key,
    -> Member_Name varchar(30),
    -> Member_address varchar(30),
    -> Acc_Open_Date Date,
    -> Membership_type varchar(20),
    -> fess_paid int,
    -> Max_Books_Allowed int,
    -> Penalty_Amount Decimal(7,2));
Query OK, 0 rows affected (0.08 sec)

mysql> create table books(
    -> Book_No int,
    -> Book_Name varchar(30),
    -> Author_name varchar(30),
    -> Cost Decimal(7,2),
    -> Category char(10));
Query OK, 0 rows affected (0.03 sec)

mysql> create table issue(
    -> Lib_issue_id int,
    -> Book_NO int,
    -> Member_id int,
    -> Issue_Date Date,
    -> Return_date Date);
Query OK, 0 rows affected (0.02 sec)


2) View the structure of the tables.

mysql> desc member;
+-------------------+--------------+------+-----+---------+-------+
| Field             | Type         | Null | Key | Default | Extra |
+-------------------+--------------+------+-----+---------+-------+
| Member_Id         | int          | YES  |     | NULL    |       |
| Member_Name       | varchar(30)  | YES  |     | NULL    |       |
| Member_address    | varchar(30)  | YES  |     | NULL    |       |
| Acc_Open_Date     | date         | YES  |     | NULL    |       |
| Membership_type   | varchar(20)  | YES  |     | NULL    |       |
| fess_paid         | int          | YES  |     | NULL    |       |
| Max_Books_Allowed | int          | YES  |     | NULL    |       |
| Penalty_Amount    | decimal(7,2) | YES  |     | NULL    |       |
+-------------------+--------------+------+-----+---------+-------+
8 rows in set (0.02 sec)

mysql> desc issue;
+--------------+------+------+-----+---------+-------+
| Field        | Type | Null | Key | Default | Extra |
+--------------+------+------+-----+---------+-------+
| Lib_issue_id | int  | YES  |     | NULL    |       |
| Book_NO      | int  | YES  |     | NULL    |       |
| Member_id    | int  | YES  |     | NULL    |       |
| Issue_Date   | date | YES  |     | NULL    |       |
| Return_date  | date | YES  |     | NULL    |       |
+--------------+------+------+-----+---------+-------+
5 rows in set (0.00 sec)

mysql> desc books;
+-------------+--------------+------+-----+---------+-------+
| Field       | Type         | Null | Key | Default | Extra |
+-------------+--------------+------+-----+---------+-------+
| Book_No     | int          | YES  |     | NULL    |       |
| Book_Name   | varchar(30)  | YES  |     | NULL    |       |
| Author_name | varchar(30)  | YES  |     | NULL    |       |
| Cost        | decimal(7,2) | YES  |     | NULL    |       |
| Category    | char(10)     | YES  |     | NULL    |       |
+-------------+--------------+------+-----+---------+-------+
5 rows in set (0.00 sec)

3) Drop the Member table ?
---

mysql> drop table member;
Query OK, 0 rows affected (0.04 sec)

mysql> show tables;
+----------------------+
| Tables_in_assignment |
+----------------------+
| books                |
| department           |
| employees            |
| issue                |
| job_description      |
| job_history          |
| jobs                 |
+----------------------+
7 rows in set (0.00 sec)

4) Create the table Member again as per the schema description with the 
following constraints. 
a. 
b. 
Member_Id – Primary Key 
Membership_type - ‘Lifetime’,’ Annual’, ‘Half Yearly’,’ Quarterly’ 
------

mysql>  create table member(
    ->  Member_Id int primary key,
    ->  Member_Name varchar(30),
    ->  Member_address varchar(30),
    -> Acc_Open_Date Date,
    -> Membership_type varchar(20) check (Membership_type in ('lifetime','Annual','Half Yearly','Quaterly')),
    -> fess_paid int,
    -> Max_Books_Allowed int,
    -> Penalty_Amount Decimal(7,2));
Query OK, 0 rows affected (0.03 sec)

mysql> desc member;
+-------------------+--------------+------+-----+---------+-------+
| Field             | Type         | Null | Key | Default | Extra |
+-------------------+--------------+------+-----+---------+-------+
| Member_Id         | int          | NO   | PRI | NULL    |       |
| Member_Name       | varchar(30)  | YES  |     | NULL    |       |
| Member_address    | varchar(30)  | YES  |     | NULL    |       |
| Acc_Open_Date     | date         | YES  |     | NULL    |       |
| Membership_type   | varchar(20)  | YES  |     | NULL    |       |
| fess_paid         | int          | YES  |     | NULL    |       |
| Max_Books_Allowed | int          | YES  |     | NULL    |       |
| Penalty_Amount    | decimal(7,2) | YES  |     | NULL    |       |
+-------------------+--------------+------+-----+---------+-------+
8 rows in set (0.01 sec)

mysql> show create table member;
+--------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table  | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+--------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| member | CREATE TABLE `member` (
  `Member_Id` int NOT NULL,
  `Member_Name` varchar(30) DEFAULT NULL,
  `Member_address` varchar(30) DEFAULT NULL,
  `Acc_Open_Date` date DEFAULT NULL,
  `Membership_type` varchar(20) DEFAULT NULL,
  `fess_paid` int DEFAULT NULL,
  `Max_Books_Allowed` int DEFAULT NULL,
  `Penalty_Amount` decimal(7,2) DEFAULT NULL,
  PRIMARY KEY (`Member_Id`),
  CONSTRAINT `member_chk_1` CHECK ((`Membership_type` in (_cp850'lifetime',_cp850'Annual',_cp850'Half Yearly',_cp850'Quaterly')))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+--------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.01 sec)


5) Modify the table Member increase the width of the member name to 30 
characters?

----------------------------------------------------------------------------------------------
mysql> desc member;
+-------------------+--------------+------+-----+---------+-------+
| Field             | Type         | Null | Key | Default | Extra |
+-------------------+--------------+------+-----+---------+-------+
| Member_Id         | int          | NO   | PRI | NULL    |       |
| Member_Name       | varchar(30)  | YES  |     | NULL    |       |
| Member_address    | varchar(30)  | YES  |     | NULL    |       |
| Acc_Open_Date     | date         | YES  |     | NULL    |       |
| Membership_type   | varchar(20)  | YES  |     | NULL    |       |
| fess_paid         | int          | YES  |     | NULL    |       |
| Max_Books_Allowed | int          | YES  |     | NULL    |       |
| Penalty_Amount    | decimal(7,2) | YES  |     | NULL    |       |
+-------------------+--------------+------+-----+---------+-------+
8 rows in set (0.00 sec)

mysql> alter table member modify column Member_Name varchar(30);
Query OK, 0 rows affected (0.02 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> desc member;
+-------------------+--------------+------+-----+---------+-------+
| Field             | Type         | Null | Key | Default | Extra |
+-------------------+--------------+------+-----+---------+-------+
| Member_Id         | int          | NO   | PRI | NULL    |       |
| Member_Name       | varchar(30)  | YES  |     | NULL    |       |
| Member_address    | varchar(30)  | YES  |     | NULL    |       |
| Acc_Open_Date     | date         | YES  |     | NULL    |       |
| Membership_type   | varchar(20)  | YES  |     | NULL    |       |
| fess_paid         | int          | YES  |     | NULL    |       |
| Max_Books_Allowed | int          | YES  |     | NULL    |       |
| Penalty_Amount    | decimal(7,2) | YES  |     | NULL    |       |
+-------------------+--------------+------+-----+---------+-------+
8 rows in set (0.00 sec)


6) Add a column named as Reference of Char(30) to Issue table.?
------

mysql> desc issue;
+--------------+------+------+-----+---------+-------+
| Field        | Type | Null | Key | Default | Extra |
+--------------+------+------+-----+---------+-------+
| Lib_issue_id | int  | YES  |     | NULL    |       |
| Book_NO      | int  | YES  |     | NULL    |       |
| Member_id    | int  | YES  |     | NULL    |       |
| Issue_Date   | date | YES  |     | NULL    |       |
| Return_date  | date | YES  |     | NULL    |       |
+--------------+------+------+-----+---------+-------+
5 rows in set (0.00 sec)

mysql> alter table issue add column Reference char(30);
Query OK, 0 rows affected (0.01 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> desc issue;
+--------------+----------+------+-----+---------+-------+
| Field        | Type     | Null | Key | Default | Extra |
+--------------+----------+------+-----+---------+-------+
| Lib_issue_id | int      | YES  |     | NULL    |       |
| Book_NO      | int      | YES  |     | NULL    |       |
| Member_id    | int      | YES  |     | NULL    |       |
| Issue_Date   | date     | YES  |     | NULL    |       |
| Return_date  | date     | YES  |     | NULL    |       |
| Reference    | char(30) | YES  |     | NULL    |       |
+--------------+----------+------+-----+---------+-------+
6 rows in set (0.00 sec)


-----------------------------------------------------------------------------
7) Delete/Drop the column Reference from Issue?

mysql> desc issue;
+--------------+----------+------+-----+---------+-------+
| Field        | Type     | Null | Key | Default | Extra |
+--------------+----------+------+-----+---------+-------+
| Lib_issue_id | int      | YES  |     | NULL    |       |
| Book_NO      | int      | YES  |     | NULL    |       |
| Member_id    | int      | YES  |     | NULL    |       |
| Issue_Date   | date     | YES  |     | NULL    |       |
| Return_date  | date     | YES  |     | NULL    |       |
| Reference    | char(30) | YES  |     | NULL    |       |
+--------------+----------+------+-----+---------+-------+
6 rows in set (0.00 sec)

mysql> alter table isse drop column Reference;
ERROR 1146 (42S02): Table 'assignment.isse' doesn't exist
mysql> alter table issue drop column Reference;
Query OK, 0 rows affected (0.01 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> desc issue;
+--------------+------+------+-----+---------+-------+
| Field        | Type | Null | Key | Default | Extra |
+--------------+------+------+-----+---------+-------+
| Lib_issue_id | int  | YES  |     | NULL    |       |
| Book_NO      | int  | YES  |     | NULL    |       |
| Member_id    | int  | YES  |     | NULL    |       |
| Issue_Date   | date | YES  |     | NULL    |       |
| Return_date  | date | YES  |     | NULL    |       |
+--------------+------+------+-----+---------+-------+
5 rows in set (0.00 sec)

----------------------------------------------------------------
8) Rename the table Issue to Lib_Issue.?

mysql> rename issue to Lib_issue;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'issue to Lib_issue' at line 1
mysql> rename table issue to Lib_issue;
Query OK, 0 rows affected (0.02 sec)

mysql> table Lib_issue;
Empty set (0.00 sec)

mysql> desc Lib_issue;
+--------------+------+------+-----+---------+-------+
| Field        | Type | Null | Key | Default | Extra |
+--------------+------+------+-----+---------+-------+
| Lib_issue_id | int  | YES  |     | NULL    |       |
| Book_NO      | int  | YES  |     | NULL    |       |
| Member_id    | int  | YES  |     | NULL    |       |
| Issue_Date   | date | YES  |     | NULL    |       |
| Return_date  | date | YES  |     | NULL    |       |
+--------------+------+------+-----+---------+-------+
5 rows in set (0.00 sec)

------------------------------------------------------------------------------
9) Insert following data in table Member ?

mysql> insert into member (Member_Id,Member_Name,Member_address,Acc_Open_Date,Membership_type,fess_paid,Max_Books_Allowed,Penalty_Amount) values
    -> (1,"Richa Sharma","Pune",'10-12-15',"lifetime",25000,5,50);
Query OK, 1 row affected (0.01 sec)

mysql> insert into member (Member_Id,Member_Name,Member_address,Acc_Open_Date,Membership_type,fess_paid,Max_Books_Allowed,Penalty_Amount) values
    -> (2,"Garima Sen","Pune", curdate(),"Annual",1000,3,Null);
Query OK, 1 row affected (0.00 sec)

mysql> table member;
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
| Member_Id | Member_Name  | Member_address | Acc_Open_Date | Membership_type | fess_paid | Max_Books_Allowed | Penalty_Amount |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
|         1 | Richa Sharma | Pune           | 2010-12-15    | lifetime        |     25000 |                 5 |          50.00 |
|         2 | Garima Sen   | Pune           | 2026-01-06    | Annual          |      1000 |                 3 |           NULL |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
2 rows in set (0.00 sec)


10) Insert at least 5 records with suitable data. ?
-----

mysql> desc member;
+-------------------+--------------+------+-----+---------+-------+
| Field             | Type         | Null | Key | Default | Extra |
+-------------------+--------------+------+-----+---------+-------+
| Member_Id         | int          | NO   | PRI | NULL    |       |
| Member_Name       | varchar(30)  | YES  |     | NULL    |       |
| Member_address    | varchar(30)  | YES  |     | NULL    |       |
| Acc_Open_Date     | date         | YES  |     | NULL    |       |
| Membership_type   | varchar(20)  | YES  |     | NULL    |       |
| fess_paid         | int          | YES  |     | NULL    |       |
| Max_Books_Allowed | int          | YES  |     | NULL    |       |
| Penalty_Amount    | decimal(7,2) | YES  |     | NULL    |       |
+-------------------+--------------+------+-----+---------+-------+
8 rows in set (0.00 sec)

mysql> insert into member (Member_Id,Member_Name,Member_address,Acc_Open_Date,)
    -> i;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ')
i' at line 1
mysql> insert into member (Member_Id,Member_Name,Member_address,Acc_Open_Date,)
    -> ;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ')' at line 1
mysql> insert into member (Member_Id,Member_Name,Member_address,Acc_Open_Date,Membership_type,fess_paid,Max_Books_Allowed,Penalty_Amount) values
    -> (1,"Richa Sharma","Pune",'10-12-15',"lifetime",25000,5,50);
Query OK, 1 row affected (0.01 sec)

mysql> insert into member (Member_Id,Member_Name,Member_address,Acc_Open_Date,Membership_type,fess_paid,Max_Books_Allowed,Penalty_Amount) values
    -> (2,"Garima Sen","Pune", curdate(),"Annual",1000,3,Null);
Query OK, 1 row affected (0.00 sec)

mysql> table member;
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
| Member_Id | Member_Name  | Member_address | Acc_Open_Date | Membership_type | fess_paid | Max_Books_Allowed | Penalty_Amount |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
|         1 | Richa Sharma | Pune           | 2010-12-15    | lifetime        |     25000 |                 5 |          50.00 |
|         2 | Garima Sen   | Pune           | 2026-01-06    | Annual          |      1000 |                 3 |           NULL |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
2 rows in set (0.00 sec)

mysql> insert into member (Member_Id,Member_Name,Member_address,Acc_Open_Date,Membership_type,fess_paid,Max_Books_Allowed,Penalty_Amount) values
    -> (3,"Mohit Sharma","UttarPradesh",'23-12-15',"Quaterly",13400,4,40),;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 2
mysql> (3,"Mohit Sharma","UttarPradesh",'23-12-15',"Quaterly",13400,4,40),
    -> insert into member (Member_Id,Member_Name,Member_address,Acc_Open_Date,Membership_type,fess_paid,Max_Books_Allowed,Penalty_Amount) values
    -> (3,"Mohit Sharma","UttarPradesh",'23-12-15',"Quaterly",13400,4,40),
    -> (4,"Kuldip Singh","Punjab",'26-11-15',"Quaterly",13400,2,40),
    -> (5,"Akshar Patel","Gujarat",'22-11-15',"Half Yearly",13000,2,40);
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '3,"Mohit Sharma","UttarPradesh",'23-12-15',"Quaterly",13400,4,40),
insert into m' at line 1
mysql> insert into member (Member_Id,Member_Name,Member_address,Acc_Open_Date,Membership_type,fess_paid,Max_Books_Allowed,Penalty_Amount) values
    -> (3,"Mohit Sharma","UttarPradesh",'23-12-15',"Quaterly",13400,4,40);
Query OK, 1 row affected (0.01 sec)

mysql> insert into member (Member_Id,Member_Name,Member_address,Acc_Open_Date,Membership_type,fess_paid,Max_Books_Allowed,Penalty_Amount) values
    -> (4,"Kuldip Singh","Punjab",'26-11-15',"Quaterly",13400,2,40);
Query OK, 1 row affected (0.01 sec)

mysql> insert into member (Member_Id,Member_Name,Member_address,Acc_Open_Date,Membership_type,fess_paid,Max_Books_Allowed,Penalty_Amount) values
    -> (5,"Akshar Patel","Gujarat",'22-11-15',"Half Yearly",13000,2,40);
Query OK, 1 row affected (0.00 sec)

mysql> table member;
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
| Member_Id | Member_Name  | Member_address | Acc_Open_Date | Membership_type | fess_paid | Max_Books_Allowed | Penalty_Amount |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
|         1 | Richa Sharma | Pune           | 2010-12-15    | lifetime        |     25000 |                 5 |          50.00 |
|         2 | Garima Sen   | Pune           | 2026-01-06    | Annual          |      1000 |                 3 |           NULL |
|         3 | Mohit Sharma | UttarPradesh   | 2023-12-15    | Quaterly        |     13400 |                 4 |          40.00 |
|         4 | Kuldip Singh | Punjab         | 2026-11-15    | Quaterly        |     13400 |                 2 |          40.00 |
|         5 | Akshar Patel | Gujarat        | 2022-11-15    | Half Yearly     |     13000 |                 2 |          40.00 |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
5 rows in set (0.00 sec)

11)  Modify the column Member_name. Decrease the width of the member  
name to 20 characters. (If it does not allow state the reason for that) ?
---


mysql> desc member;
+-------------------+--------------+------+-----+---------+-------+
| Field             | Type         | Null | Key | Default | Extra |
+-------------------+--------------+------+-----+---------+-------+
| Member_Id         | int          | NO   | PRI | NULL    |       |
| Member_Name       | varchar(30)  | YES  |     | NULL    |       |
| Member_address    | varchar(30)  | YES  |     | NULL    |       |
| Acc_Open_Date     | date         | YES  |     | NULL    |       |
| Membership_type   | varchar(20)  | YES  |     | NULL    |       |
| fess_paid         | int          | YES  |     | NULL    |       |
| Max_Books_Allowed | int          | YES  |     | NULL    |       |
| Penalty_Amount    | decimal(7,2) | YES  |     | NULL    |       |
+-------------------+--------------+------+-----+---------+-------+
8 rows in set (0.00 sec)

mysql> alter table member modify column Member_Name varchar(20);
Query OK, 5 rows affected (0.06 sec)
Records: 5  Duplicates: 0  Warnings: 0

12) Try to insert a record with Max_Books_Allowed = 110, Observe   the 
error that comes.  ?

mysql> insert into member (Member_Id,Member_Name,Member_address,Acc_Open_Date,Membership_type,fess_paid,Max_Books_Allowed,Penalty_Amount) values
    -> (6,"Rajiv Patel","Ahmedabad",'24-11-15',"Half Yearly",13400,110,40);
Query OK, 1 row affected (0.02 sec)

mysql> table member;
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
| Member_Id | Member_Name  | Member_address | Acc_Open_Date | Membership_type | fess_paid | Max_Books_Allowed | Penalty_Amount |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
|         1 | Richa Sharma | Pune           | 2010-12-15    | lifetime        |     25000 |                 5 |          50.00 |
|         2 | Garima Sen   | Pune           | 2026-01-06    | Annual          |      1000 |                 3 |           NULL |
|         3 | Mohit Sharma | UttarPradesh   | 2023-12-15    | Quaterly        |     13400 |                 4 |          40.00 |
|         4 | Kuldip Singh | Punjab         | 2026-11-15    | Quaterly        |     13400 |                 2 |          40.00 |
|         5 | Akshar Patel | Gujarat        | 2022-11-15    | Half Yearly     |     13000 |                 2 |          40.00 |
|         6 | Rajiv Patel  | Ahmedabad      | 2024-11-15    | Half Yearly     |     13400 |               110 |          40.00 |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
6 rows in set (0.00 sec)

13) Generate another table named Member101 using a Create command 
along with a simple SQL query on member table. ?

mysql> create table member101(
    -> Member_Id int,
    -> Member_Name varchar(30),
    -> Member_address varchar(30),
    -> Acc_Open_Date Date,
    -> Membership_type varchar(20),
    -> fess_paid int,
    -> Max_Books_Allowed int,
    -> penalty_Amount Decimal(7,2));
Query OK, 0 rows affected (0.04 sec)

mysql> desc member101;
+-------------------+--------------+------+-----+---------+-------+
| Field             | Type         | Null | Key | Default | Extra |
+-------------------+--------------+------+-----+---------+-------+
| Member_Id         | int          | YES  |     | NULL    |       |
| Member_Name       | varchar(30)  | YES  |     | NULL    |       |
| Member_address    | varchar(30)  | YES  |     | NULL    |       |
| Acc_Open_Date     | date         | YES  |     | NULL    |       |
| Membership_type   | varchar(20)  | YES  |     | NULL    |       |
| fess_paid         | int          | YES  |     | NULL    |       |
| Max_Books_Allowed | int          | YES  |     | NULL    |       |
| penalty_Amount    | decimal(7,2) | YES  |     | NULL    |       |
+-------------------+--------------+------+-----+---------+-------+
8 rows in set (0.01 sec)


14) Add the constraints on columns max_books_allowed  and penalty_amt 
as follows 
a. max_books_allowed  < 100 
b. penalty_amt maximum 1000 
Also give names to the constraints.?

-------------we cannot rename the constraints in sql in which we can drop and add constraaints and reaname it as of ---

mysql> show create table member101;
+-----------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table     | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+-----------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| member101 | CREATE TABLE `member101` (
  `Member_Id` int DEFAULT NULL,
  `Member_Name` varchar(30) DEFAULT NULL,
  `Member_address` varchar(30) DEFAULT NULL,
  `Acc_Open_Date` date DEFAULT NULL,
  `Membership_type` varchar(20) DEFAULT NULL,
  `fess_paid` int DEFAULT NULL,
  `Max_Books_Allowed` varchar(30) DEFAULT NULL,
  `penalty_Amount` decimal(7,2) DEFAULT NULL,
  CONSTRAINT `member101_chk_1` CHECK ((`Max_Books_Allowed` < 100)),
  CONSTRAINT `member101_chk_2` CHECK ((`penalty_Amount` <= 1000))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+-----------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> alter table member101 rename constraint member101_chk_1 to Maxbooks_Allowed;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'constraint member101_chk_1 to Maxbooks_Allowed' at line 1
mysql> desc member101;
+-------------------+--------------+------+-----+---------+-------+
| Field             | Type         | Null | Key | Default | Extra |
+-------------------+--------------+------+-----+---------+-------+
| Member_Id         | int          | YES  |     | NULL    |       |
| Member_Name       | varchar(30)  | YES  |     | NULL    |       |
| Member_address    | varchar(30)  | YES  |     | NULL    |       |
| Acc_Open_Date     | date         | YES  |     | NULL    |       |
| Membership_type   | varchar(20)  | YES  |     | NULL    |       |
| fess_paid         | int          | YES  |     | NULL    |       |
| Max_Books_Allowed | varchar(30)  | YES  |     | NULL    |       |
| penalty_Amount    | decimal(7,2) | YES  |     | NULL    |       |
+-------------------+--------------+------+-----+---------+-------+
8 rows in set (0.00 sec)

mysql> show create table member101;
+-----------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table     | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+-----------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| member101 | CREATE TABLE `member101` (
  `Member_Id` int DEFAULT NULL,
  `Member_Name` varchar(30) DEFAULT NULL,
  `Member_address` varchar(30) DEFAULT NULL,
  `Acc_Open_Date` date DEFAULT NULL,
  `Membership_type` varchar(20) DEFAULT NULL,
  `fess_paid` int DEFAULT NULL,
  `Max_Books_Allowed` varchar(30) DEFAULT NULL,
  `penalty_Amount` decimal(7,2) DEFAULT NULL,
  CONSTRAINT `member101_chk_1` CHECK ((`Max_Books_Allowed` < 100)),
  CONSTRAINT `member101_chk_2` CHECK ((`penalty_Amount` <= 1000))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+-----------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> alter table member101 drop constraint member101_chk_1;
Query OK, 0 rows affected (0.01 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> alter table member101 drop constraint member101_chk_2;
Query OK, 0 rows affected (0.01 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> alter table member101 add constraint Max_Books_allowed check(Max_Books_Allowed<100);
Query OK, 0 rows affected (0.03 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> alter table member101 add constraint penalty_Amount(penalty_Amount<=1000);
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(penalty_Amount<=1000)' at line 1
mysql> alter table member101 add constraint penalty_Amount check(penalty_Amount<=1000);
Query OK, 0 rows affected (0.04 sec)
Records: 0  Duplicates: 0  Warnings: 0


mysql> show create table member101;
+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table     | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| member101 | CREATE TABLE `member101` (
  `Member_Id` int DEFAULT NULL,
  `Member_Name` varchar(30) DEFAULT NULL,
  `Member_address` varchar(30) DEFAULT NULL,
  `Acc_Open_Date` date DEFAULT NULL,
  `Membership_type` varchar(20) DEFAULT NULL,
  `fess_paid` int DEFAULT NULL,
  `Max_Books_Allowed` varchar(30) DEFAULT NULL,
  `penalty_Amount` decimal(7,2) DEFAULT NULL,
  CONSTRAINT `Max_Books_allowed` CHECK ((`Max_Books_Allowed` < 100)),
  CONSTRAINT `penalty_Amount` CHECK ((`penalty_Amount` <= 1000))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+-----------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)


15) Drop the table books.?

mysql> show tables;
+----------------------+
| Tables_in_assignment |
+----------------------+
| books                |
| department           |
| employees            |
| job_description      |
| job_history          |
| jobs                 |
| lib_issue            |
| member               |
| member101            |
+----------------------+
9 rows in set (0.00 sec)

mysql> drop table books;
Query OK, 0 rows affected (0.02 sec)

mysql> show tables ;
+----------------------+
| Tables_in_assignment |
+----------------------+
| department           |
| employees            |
| job_description      |
| job_history          |
| jobs                 |
| lib_issue            |
| member               |
| member101            |
+----------------------+
8 rows in set (0.00 sec)

16) Create table Books again as per the schema description with the 
following constraints. 
a. Book_No – Primary Key 
b. Book_Name – Not Null 
c. Category – System, Fiction, Database, RDBMS, Others. ?
Ans:

mysql> CREATE TABLE Books (
    ->     Book_No   INT,
    ->     Book_Name VARCHAR(100) NOT NULL,
    ->     Category  VARCHAR(20),
    ->
    ->     CONSTRAINT books_pk PRIMARY KEY (Book_No),
    ->     CONSTRAINT books_category_chk
    ->         CHECK (Category IN ('System', 'Fiction', 'Database', 'RDBMS', 'Others'))
    -> );
Query OK, 0 rows affected (0.03 sec)

 CREATE TABLE `books` (
  `Book_No` int NOT NULL,
  `Book_Name` varchar(100) NOT NULL,
  `Category` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`Book_No`),
  CONSTRAINT `books_category_chk` CHECK ((`Category` in (_cp850'System',_cp850'Fiction',_cp850'Database',_cp850'RDBMS',_cp850'Others')))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> desc books;
+-----------+--------------+------+-----+---------+-------+
| Field     | Type         | Null | Key | Default | Extra |
+-----------+--------------+------+-----+---------+-------+
| Book_No   | int          | NO   | PRI | NULL    |       |
| Book_Name | varchar(100) | NO   |     | NULL    |       |
| Category  | varchar(20)  | YES  |     | NULL    |       |
+-----------+--------------+------+-----+---------+-------+
3 rows in set (0.00 sec)

mysql> alter table books add column Author varchar(30) after Book_Name;
Query OK, 0 rows affected (0.02 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> alter table books add column cost int after Author;
Query OK, 0 rows affected (0.01 sec)
Records: 0  Duplicates: 0  Warnings: 0


17) Insert data in Book table as follows:?

mysql> insert into books values(101,"Let us C","Dennis Ritchie",450,"System"),
    -> (102,"Oracle - Complete Ref","Loni",550,"Database"),
    -> (103,"Mastering SQL","Loni",250,"Database"),
    -> (104,"PL SQL-Ref","Scott Urman",750,"Database");
Query OK, 4 rows affected (0.01 sec)
Records: 4  Duplicates: 0  Warnings: 0

mysql> table books;
+---------+-----------------------+----------------+------+----------+
| Book_No | Book_Name             | Author         | cost | Category |
+---------+-----------------------+----------------+------+----------+
|     101 | Let us C              | Dennis Ritchie |  450 | System   |
|     102 | Oracle - Complete Ref | Loni           |  550 | Database |
|     103 | Mastering SQL         | Loni           |  250 | Database |
|     104 | PL SQL-Ref            | Scott Urman    |  750 | Database |
+---------+-----------------------+----------------+------+----------+
4 rows in set (0.00 sec)


18) Insert more records in Book table.

mysql> insert into books values(105,"Java","James Gosling",850,"System");
Query OK, 1 row affected (0.00 sec)

mysql> table books;
+---------+-----------------------+----------------+------+----------+
| Book_No | Book_Name             | Author         | cost | Category |
+---------+-----------------------+----------------+------+----------+
|     101 | Let us C              | Dennis Ritchie |  450 | System   |
|     102 | Oracle - Complete Ref | Loni           |  550 | Database |
|     103 | Mastering SQL         | Loni           |  250 | Database |
|     104 | PL SQL-Ref            | Scott Urman    |  750 | Database |
|     105 | Java                  | James Gosling  |  850 | System   |
+---------+-----------------------+----------------+------+----------+
5 rows in set (0.00 sec)


19) View the data in the tables using simple SQL query. ?
mysql> table books;
+---------+-----------------------+----------------+------+----------+
| Book_No | Book_Name             | Author         | cost | Category |
+---------+-----------------------+----------------+------+----------+
|     101 | Let us C              | Dennis Ritchie |  450 | System   |
|     102 | Oracle - Complete Ref | Loni           |  550 | Database |
|     103 | Mastering SQL         | Loni           |  250 | Database |
|     104 | PL SQL-Ref            | Scott Urman    |  750 | Database |
|     105 | Java                  | James Gosling  |  850 | System   |
+---------+-----------------------+----------------+------+----------+
5 rows in set (0.00 sec)

20) Insert into Book following data. 
Ans -First Deleted the added row with the primary key whole record got deleted ...


mysql> delete from books where Book_No=105;
Query OK, 1 row affected (0.01 sec)


mysql> table books;
+---------+-----------------------+----------------+------+----------+
| Book_No | Book_Name             | Author         | cost | Category |
+---------+-----------------------+----------------+------+----------+
|     101 | Let us C              | Dennis Ritchie |  450 | System   |
|     102 | Oracle - Complete Ref | Loni           |  550 | Database |
|     103 | Mastering SQL         | Loni           |  250 | Database |
|     104 | PL SQL-Ref            | Scott Urman    |  750 | Database |
+---------+-----------------------+----------------+------+----------+
4 rows in set (0.00 sec)

after deleting we can insert it will the new value given in assignment?

mysql> insert into books values(105,"National Geographic","Adis Scott",1000,"Science");
ERROR 3819 (HY000): Check constraint 'books_category_chk' is violated.



21) Rename the table Lib_Issue to Issue. ?


mysql> show tables;
+----------------------+
| Tables_in_assignment |
+----------------------+
| books                |
| department           |
| employees            |
| job_description      |
| job_history          |
| jobs                 |
| lib_issue            |
| member               |
| member101            |
+----------------------+
9 rows in set (0.00 sec)

mysql> rename table Lib_issue to Issue;
Query OK, 0 rows affected (0.02 sec)

mysql> show tables;
+----------------------+
| Tables_in_assignment |
+----------------------+
| books                |
| department           |
| employees            |
| issue                |
| job_description      |
| job_history          |
| jobs                 |
| member               |
| member101            |
+----------------------+
9 rows in set (0.00 sec)


22) Drop table Issue. ?


mysql> drop table issue;
Query OK, 0 rows affected (0.04 sec)

mysql> show tables;
+----------------------+
| Tables_in_assignment |
+----------------------+
| books                |
| department           |
| employees            |
| job_description      |
| job_history          |
| jobs                 |
| member               |
| member101            |
+----------------------+
8 rows in set (0.00 sec)

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
23) As per the given structure Create table Issue again with following 
constraints. 
 Lib_Issue_Id-Primary key 
 Book_No-  foreign key 
 Member_id - foreign key 
 Issue_date 
 Return_date?
Ans :
mysql> create table issue(
    -> lib_Issue_Id int primary key,
    -> member_Id int,
    -> Book_no int,
    -> issue_date date,
    -> return_date date);
Query OK, 0 rows affected (0.02 sec)

mysql>  alter table issue add foreign key(Book_no) references books(Book_no);
Query OK, 0 rows affected (0.09 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql>  alter table issue add foreign key(member_Id) references member(Member_Id);
Query OK, 0 rows affected (0.08 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> desc issue;
+--------------+------+------+-----+---------+-------+
| Field        | Type | Null | Key | Default | Extra |
+--------------+------+------+-----+---------+-------+
| lib_Issue_Id | int  | NO   | PRI | NULL    |       |
| member_Id    | int  | YES  | MUL | NULL    |       |
| Book_no      | int  | YES  | MUL | NULL    |       |
| issue_date   | date | YES  |     | NULL    |       |
| return_date  | date | YES  |     | NULL    |       |
+--------------+------+------+-----+---------+-------+
5 rows in set (0.00 sec)



24)  Insert following data into Issue table.?
------
mysql> insert into issue values(7001,1,101,STR_TO_DATE('10-Dec-06', '%d-%b-%y'),STR_TO_DATE('10-Dec-06', '%d-%b-%y'));
Query OK, 1 row affected (0.01 sec)

mysql> insert into issue values(7002,2,102,STR_TO_DATE('25-Dec-06', '%d-%b-%y'),STR_TO_DATE('28-Dec-06', '%d-%b-%y'));
Query OK, 1 row affected (0.00 sec)

mysql> insert into issue values(7003,1,104,STR_TO_DATE('15-Dec-06', '%d-%b-%y'),STR_TO_DATE('18-Dec-06', '%d-%b-%y'));
Query OK, 1 row affected (0.00 sec)

mysql> insert into issue values(7004,1,101,STR_TO_DATE('04-Dec-06', '%d-%b-%y'),STR_TO_DATE('7-Dec-06', '%d-%b-%y'));
Query OK, 1 row affected (0.00 sec)

mysql> insert into issue values(7005,2,104,STR_TO_DATE('15-Nov-06', '%d-%b-%y'),STR_TO_DATE('18-Nov-06', '%d-%b-%y'));
Query OK, 1 row affected (0.00 sec)

mysql> insert into issue values(7006,3,104,STR_TO_DATE('18-feb-06', '%d-%b-%y'),STR_TO_DATE('21-feb-06', '%d-%b-%y'));
Query OK, 1 row affected (0.00 sec)


mysql> table issue;
+--------------+-----------+---------+------------+-------------+
| lib_Issue_Id | member_Id | Book_no | issue_date | return_date |
+--------------+-----------+---------+------------+-------------+
|         7001 |         1 |     101 | 2006-12-10 | 2006-12-10  |
|         7002 |         2 |     102 | 2006-12-25 | 2006-12-28  |
|         7003 |         1 |     104 | 2006-12-15 | 2006-12-18  |
|         7004 |         1 |     101 | 2006-12-04 | 2006-12-07  |
|         7005 |         2 |     104 | 2006-11-15 | 2006-11-18  |
|         7006 |         3 |     104 | 2006-02-18 | 2006-02-21  |
+--------------+-----------+---------+------------+-------------+
6 rows in set (0.00 sec)


25) Remove the constraints on Issue table?
----
mysql> show create table issue;
+-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| issue | CREATE TABLE `issue` (
  `lib_Issue_Id` int NOT NULL,
  `member_Id` int DEFAULT NULL,
  `Book_no` int DEFAULT NULL,
  `issue_date` date DEFAULT NULL,
  `return_date` date DEFAULT NULL,
  PRIMARY KEY (`lib_Issue_Id`),
  KEY `Book_no` (`Book_no`),
  KEY `member_Id` (`member_Id`),
  CONSTRAINT `issue_ibfk_1` FOREIGN KEY (`Book_no`) REFERENCES `books` (`Book_No`),
  CONSTRAINT `issue_ibfk_2` FOREIGN KEY (`member_Id`) REFERENCES `member` (`Member_Id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

mysql> alter table issue drop constraint issue_ibfk_1;
Query OK, 0 rows affected (0.01 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> alter table issue drop constraint issue_ibfk_2;
Query OK, 0 rows affected (0.01 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> alter table issue drop primary key;
Query OK, 6 rows affected (0.05 sec)
Records: 6  Duplicates: 0  Warnings: 0

still you can see mul  in memberid and bookno over there because MUL does NOT mean foreign key still exists ,It only means index still exists
mysql> desc issue;
+--------------+------+------+-----+---------+-------+
| Field        | Type | Null | Key | Default | Extra |
+--------------+------+------+-----+---------+-------+
| lib_Issue_Id | int  | NO   |     | NULL    |       |
| member_Id    | int  | YES  | MUL | NULL    |       |
| Book_no      | int  | YES  | MUL | NULL    |       |
| issue_date   | date | YES  |     | NULL    |       |
| return_date  | date | YES  |     | NULL    |       |
+--------------+------+------+-----+---------+-------+
5 rows in set (0.00 sec)

mysql> show create table issue;
+-------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table | Create Table                                                                                                                                                                                                                                                                                                             |
+-------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| issue | CREATE TABLE `issue` (
  `lib_Issue_Id` int NOT NULL,
  `member_Id` int DEFAULT NULL,
  `Book_no` int DEFAULT NULL,
  `issue_date` date DEFAULT NULL,
  `return_date` date DEFAULT NULL,
  KEY `Book_no` (`Book_no`),
  KEY `member_Id` (`member_Id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+-------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)



26) Insert a record in Issue table. The member_id should not exist in  
member table. 
Ans:
mysql> desc issue;
+--------------+------+------+-----+---------+-------+
| Field        | Type | Null | Key | Default | Extra |
+--------------+------+------+-----+---------+-------+
| lib_Issue_Id | int  | NO   |     | NULL    |       |
| member_Id    | int  | YES  | MUL | NULL    |       |
| Book_no      | int  | YES  | MUL | NULL    |       |
| issue_date   | date | YES  |     | NULL    |       |
| return_date  | date | YES  |     | NULL    |       |
+--------------+------+------+-----+---------+-------+
5 rows in set (0.00 sec)

mysql> table member;
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
| Member_Id | Member_Name  | Member_address | Acc_Open_Date | Membership_type | fess_paid | Max_Books_Allowed | Penalty_Amount |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
|         1 | Richa Sharma | Pune           | 2010-12-15    | lifetime        |     25000 |                 5 |          50.00 |
|         2 | Garima Sen   | Pune           | 2026-01-06    | Annual          |      1000 |                 3 |           NULL |
|         3 | Mohit Sharma | UttarPradesh   | 2023-12-15    | Quaterly        |     13400 |                 4 |          40.00 |
|         4 | Kuldip Singh | Punjab         | 2026-11-15    | Quaterly        |     13400 |                 2 |          40.00 |
|         5 | Akshar Patel | Gujarat        | 2022-11-15    | Half Yearly     |     13000 |                 2 |          40.00 |
|         6 | Rajiv Patel  | Ahmedabad      | 2024-11-15    | Half Yearly     |     13400 |               110 |          40.00 |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
6 rows in set (0.00 sec)

mysql> insert into issue values(7007,7,104,STR_TO_DATE('15-Nov-06', '%d-%b-%y'),STR_TO_DATE('18-Nov-06', '%d-%b-%y'));
Query OK, 1 row affected (0.01 sec)

mysql> table issue;
+--------------+-----------+---------+------------+-------------+
| lib_Issue_Id | member_Id | Book_no | issue_date | return_date |
+--------------+-----------+---------+------------+-------------+
|         7001 |         1 |     101 | 2006-12-10 | 2006-12-10  |
|         7002 |         2 |     102 | 2006-12-25 | 2006-12-28  |
|         7003 |         1 |     104 | 2006-12-15 | 2006-12-18  |
|         7004 |         1 |     101 | 2006-12-04 | 2006-12-07  |
|         7005 |         2 |     104 | 2006-11-15 | 2006-11-18  |
|         7006 |         3 |     104 | 2006-02-18 | 2006-02-21  |
|         7007 |         7 |     104 | 2006-11-15 | 2006-11-18  |
+--------------+-----------+---------+------------+-------------+
7 rows in set (0.00 sec)

mysql> table member;
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
| Member_Id | Member_Name  | Member_address | Acc_Open_Date | Membership_type | fess_paid | Max_Books_Allowed | Penalty_Amount |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
|         1 | Richa Sharma | Pune           | 2010-12-15    | lifetime        |     25000 |                 5 |          50.00 |
|         2 | Garima Sen   | Pune           | 2026-01-06    | Annual          |      1000 |                 3 |           NULL |
|         3 | Mohit Sharma | UttarPradesh   | 2023-12-15    | Quaterly        |     13400 |                 4 |          40.00 |
|         4 | Kuldip Singh | Punjab         | 2026-11-15    | Quaterly        |     13400 |                 2 |          40.00 |
|         5 | Akshar Patel | Gujarat        | 2022-11-15    | Half Yearly     |     13000 |                 2 |          40.00 |
|         6 | Rajiv Patel  | Ahmedabad      | 2024-11-15    | Half Yearly     |     13400 |               110 |          40.00 |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
6 rows in set (0.00 sec)

mysql> table issue;
+--------------+-----------+---------+------------+-------------+
| lib_Issue_Id | member_Id | Book_no | issue_date | return_date |
+--------------+-----------+---------+------------+-------------+
|         7001 |         1 |     101 | 2006-12-10 | 2006-12-10  |
|         7002 |         2 |     102 | 2006-12-25 | 2006-12-28  |
|         7003 |         1 |     104 | 2006-12-15 | 2006-12-18  |
|         7004 |         1 |     101 | 2006-12-04 | 2006-12-07  |
|         7005 |         2 |     104 | 2006-11-15 | 2006-11-18  |
|         7006 |         3 |     104 | 2006-02-18 | 2006-02-21  |
|         7007 |         7 |     104 | 2006-11-15 | 2006-11-18  |
+--------------+-----------+---------+------------+-------------+
7 rows in set (0.00 sec)

27) Now enable the constraints of Issue table. Observe the error ?

mysql> alter table issue add primary key (lib_Issue_Id);
Query OK, 0 rows affected (0.10 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> alter table issue add foreign key(Book_no) references books(Book_no);
Query OK, 7 rows affected (0.06 sec)
Records: 7  Duplicates: 0  Warnings: 0

mysql> alter table issue add foreign key(member_Id) references books(member_Id);
ERROR 3734 (HY000): Failed to add the foreign key constraint. Missing column 'member_Id' for constraint 'issue_ibfk_2' in the referenced table 'books'

28) Delete the record inserted at Q-27) and enable the constraints.?

---
mysql> delete from issue where lib_Issue_Id=7007;
Query OK, 1 row affected (0.00 sec)

mysql> table issue;
+--------------+-----------+---------+------------+-------------+
| lib_Issue_Id | member_Id | Book_no | issue_date | return_date |
+--------------+-----------+---------+------------+-------------+
|         7001 |         1 |     101 | 2006-12-10 | 2006-12-10  |
|         7002 |         2 |     102 | 2006-12-25 | 2006-12-28  |
|         7003 |         1 |     104 | 2006-12-15 | 2006-12-18  |
|         7004 |         1 |     101 | 2006-12-04 | 2006-12-07  |
|         7005 |         2 |     104 | 2006-11-15 | 2006-11-18  |
|         7006 |         3 |     104 | 2006-02-18 | 2006-02-21  |
+--------------+-----------+---------+------------+-------------+
6 rows in set (0.00 sec)

29) Try to delete the record of member id 1 from member table and  
observe the error . ?

mysql> delete from member where member_id=1;
ERROR 1451 (23000): Cannot delete or update a parent row: a foreign key constraint fails (`assignment`.`issue`, CONSTRAINT `issue_ibfk_1` FOREIGN KEY (`member_Id`) REFERENCES `member` (`Member_Id`))


30) View the data and structure of all the three tables Member,  
Issue, Book.?

mysql> table member;
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
| Member_Id | Member_Name  | Member_address | Acc_Open_Date | Membership_type | fess_paid | Max_Books_Allowed | Penalty_Amount |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
|         1 | Richa Sharma | Pune           | 2010-12-15    | lifetime        |     25000 |                 5 |          50.00 |
|         2 | Garima Sen   | Pune           | 2026-01-06    | Annual          |      1000 |                 3 |           NULL |
|         3 | Mohit Sharma | UttarPradesh   | 2023-12-15    | Quaterly        |     13400 |                 4 |          40.00 |
|         4 | Kuldip Singh | Punjab         | 2026-11-15    | Quaterly        |     13400 |                 2 |          40.00 |
|         5 | Akshar Patel | Gujarat        | 2022-11-15    | Half Yearly     |     13000 |                 2 |          40.00 |
|         6 | Rajiv Patel  | Ahmedabad      | 2024-11-15    | Half Yearly     |     13400 |               110 |          40.00 |
+-----------+--------------+----------------+---------------+-----------------+-----------+-------------------+----------------+
6 rows in set (0.00 sec)

mysql> table book;
ERROR 1146 (42S02): Table 'assignment.book' doesn't exist
mysql> table books;
+---------+-----------------------+----------------+------+----------+
| Book_No | Book_Name             | Author         | cost | Category |
+---------+-----------------------+----------------+------+----------+
|     101 | Let us C              | Dennis Ritchie |  450 | System   |
|     102 | Oracle - Complete Ref | Loni           |  550 | Database |
|     103 | Mastering SQL         | Loni           |  250 | Database |
|     104 | PL SQL-Ref            | Scott Urman    |  750 | Database |
+---------+-----------------------+----------------+------+----------+
4 rows in set (0.00 sec)

mysql> table issue;
+--------------+-----------+---------+------------+-------------+
| lib_Issue_Id | member_Id | Book_no | issue_date | return_date |
+--------------+-----------+---------+------------+-------------+
|         7001 |         1 |     101 | 2006-12-10 | 2006-12-10  |
|         7002 |         2 |     102 | 2006-12-25 | 2006-12-28  |
|         7003 |         1 |     104 | 2006-12-15 | 2006-12-18  |
|         7004 |         1 |     101 | 2006-12-04 | 2006-12-07  |
|         7005 |         2 |     104 | 2006-11-15 | 2006-11-18  |
|         7006 |         3 |     104 | 2006-02-18 | 2006-02-21  |
+--------------+-----------+---------+------------+-------------+
6 rows in set (0.00 sec)

31) Modify the Return_Date of 7004,7005 to 15 days after the    
Issue_date. ?

mysql> update issue
    -> set return_date=issue_date+15 where lib_Issue_Id in (7004,7005);
Query OK, 2 rows affected (0.01 sec)
Rows matched: 2  Changed: 2  Warnings: 0

mysql> table issue;
+--------------+-----------+---------+------------+-------------+
| lib_Issue_Id | member_Id | Book_no | issue_date | return_date |
+--------------+-----------+---------+------------+-------------+
|         7001 |         1 |     101 | 2006-12-10 | 2006-12-10  |
|         7002 |         2 |     102 | 2006-12-25 | 2006-12-28  |
|         7003 |         1 |     104 | 2006-12-15 | 2006-12-18  |
|         7004 |         1 |     101 | 2006-12-04 | 2006-12-19  |
|         7005 |         2 |     104 | 2006-11-15 | 2006-11-30  |
|         7006 |         3 |     104 | 2006-02-18 | 2006-02-21  |
+--------------+-----------+---------+------------+-------------+
6 rows in set (0.00 sec)

32) Remove all the records from Issue table where member_ID is 1  
and Issue date in before 10-Dec-06.?

	first go for safe method ----

--SELECT *
    -> FROM Issue
    -> WHERE member_ID = 1
    -> AND Issue_Date < DATE('10-12-06')
    -> ;
+--------------+-----------+---------+------------+-------------+
| lib_Issue_Id | member_Id | Book_no | issue_date | return_date |
+--------------+-----------+---------+------------+-------------+
|         7001 |         1 |     101 | 2006-12-10 | 2006-12-10  |
|         7003 |         1 |     104 | 2006-12-15 | 2006-12-18  |
|         7004 |         1 |     101 | 2006-12-04 | 2006-12-19  |
+--------------+-----------+---------+------------+-------------+
3 rows in set (0.00 sec)


mysql> delete from issue where member_Id=1
    -> ^C
mysql> DELETE FROM Issue
    -> WHERE member_ID = 1
    ->   AND Issue_date < '2006-12-10';
Query OK, 1 row affected (0.00 sec)

mysql> table issue;
+--------------+-----------+---------+------------+-------------+
| lib_Issue_Id | member_Id | Book_no | issue_date | return_date |
+--------------+-----------+---------+------------+-------------+
|         7001 |         1 |     101 | 2006-12-10 | 2006-12-10  |
|         7002 |         2 |     102 | 2006-12-25 | 2006-12-28  |
|         7003 |         1 |     104 | 2006-12-15 | 2006-12-18  |
|         7005 |         2 |     104 | 2006-11-15 | 2006-11-18  |
|         7006 |         3 |     104 | 2006-02-18 | 2006-02-21  |
+--------------+-----------+---------+------------+-------------+
5 rows in set (0.00 sec)

mysql> DELETE FROM Issue
    ->  WHERE member_ID = 1
    -> AND Issue_date < '2006-12-10';
Query OK, 0 rows affected (0.00 sec)

33) Remove all the records from Book table with category other   
than RDBMS and Database. ?

we have to insert new records then we can perfrom operations that that ---?





































































































































































































































